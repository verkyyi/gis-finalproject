<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
    <meta charset="utf-8">
    <meta name="generator" content="quarto-1.4.549">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


    <title>Spatial Dynamics of Sweetgreen and Chipotle Locations: Proximity or Competition?</title>
    <style>
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      div.columns{display: flex; gap: min(4vw, 1.5em);}
      div.column{flex: auto; overflow-x: auto;}
      div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
      ul.task-list{list-style: none;}
      ul.task-list li input[type="checkbox"] {
        width: 0.8em;
        margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
        vertical-align: middle;
      }
      /* CSS for syntax highlighting */
      pre > code.sourceCode { white-space: pre; position: relative; }
      pre > code.sourceCode > span { line-height: 1.25; }
      pre > code.sourceCode > span:empty { height: 1.2em; }
      .sourceCode { overflow: visible; }
      code.sourceCode > span { color: inherit; text-decoration: inherit; }
      div.sourceCode { margin: 1em 0; }
      pre.sourceCode { margin: 0; }
      @media screen {
      div.sourceCode { overflow: auto; }
      }
      @media print {
      pre > code.sourceCode { white-space: pre-wrap; }
      pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
      }
      pre.numberSource code
        { counter-reset: source-line 0; }
      pre.numberSource code > span
        { position: relative; left: -4em; counter-increment: source-line; }
      pre.numberSource code > span > a:first-child::before
        { content: counter(source-line);
          position: relative; left: -1em; text-align: right; vertical-align: baseline;
          border: none; display: inline-block;
          -webkit-touch-callout: none; -webkit-user-select: none;
          -khtml-user-select: none; -moz-user-select: none;
          -ms-user-select: none; user-select: none;
          padding: 0 4px; width: 4em;
        }
      pre.numberSource { margin-left: 3em;  padding-left: 4px; }
      div.sourceCode
        {   }
      @media screen {
      pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
      }
    </style>

    <style>
      body.hypothesis-enabled #quarto-embed-header {
        padding-right: 36px;
      }

      #quarto-embed-header {
        height: 3em;
        width: 100%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: solid 1px;
      }

      #quarto-embed-header h6 {
        font-size: 1.1em;
        padding-top: 0.6em;
        margin-left: 1em;
        margin-right: 1em;
        font-weight: 400;
      }

      #quarto-embed-header a.quarto-back-link,
      #quarto-embed-header a.quarto-download-embed {
        font-size: 0.8em;
        margin-top: 1em;
        margin-bottom: 1em;
        margin-left: 1em;
        margin-right: 1em;
      }

      .quarto-back-container {
        padding-left: 0.5em;
        display: flex;
      }

      .headroom {
          will-change: transform;
          transition: transform 200ms linear;
      }

      .headroom--pinned {
          transform: translateY(0%);
      }

      .headroom--unpinned {
          transform: translateY(-100%);
      }      
    </style>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script>
    window.document.addEventListener("DOMContentLoaded", function () {

      var header = window.document.querySelector("#quarto-embed-header");
      const titleBannerEl = window.document.querySelector("body > #title-block-header");
      if (titleBannerEl) {
        titleBannerEl.style.paddingTop = header.clientHeight + "px";
      }
      const contentEl = window.document.getElementById('quarto-content');
      for (const child of contentEl.children) {
        child.style.paddingTop = header.clientHeight + "px";
        child.style.marginTop = "1em";
      }

      // Use the article root if the `back` call doesn't work. This isn't perfect
      // but should typically work
      window.quartoBackToArticle = () => {
        var currentUrl = window.location.href;
        window.history.back();
        setTimeout(() => {
            // if location was not changed in 100 ms, then there is no history back
            if(currentUrl === window.location.href){              
                // redirect to site root
                window.location.href = "index.html";
            }
        }, 100);
      }

      const headroom = new window.Headroom(header, {
        tolerance: 5,
        onPin: function () {
        },
        onUnpin: function () {
        },
      });
      headroom.init();
    });
    </script>

    
<script src="site_libs/manuscript-notebook/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
     <style>

      .quarto-title-block .quarto-title-banner h1,
      .quarto-title-block .quarto-title-banner h2,
      .quarto-title-block .quarto-title-banner h3,
      .quarto-title-block .quarto-title-banner h4,
      .quarto-title-block .quarto-title-banner h5,
      .quarto-title-block .quarto-title-banner h6
      {
        color: black;
      }

      .quarto-title-block .quarto-title-banner {
        color: black;
background: #E69F0095;
      }
</style>  <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>   <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script> 
      <meta name="citation_title" content="Spatial Dynamics of Sweetgreen and Chipotle Locations: Proximity or Competition?">
<meta name="citation_author" content="Bella Shi">
<meta name="citation_author" content="Jacky Zhang">
<meta name="citation_author" content="Lianghui Yi">
<meta name="citation_language" content="en">
<meta name="citation_reference" content="citation_title=Myanmar’s military built a new capital as a haven for power. Other countries have tried that, too.;,citation_abstract=Saturday saw the first street protests of Myanmar’s military takeover despite the threat of repression.;,citation_author=Miriam Berger;,citation_publication_date=2021-02;,citation_cover_date=2021-02;,citation_year=2021;,citation_fulltext_html_url=https://www.washingtonpost.com/world/2021/02/06/myanmars-military-built-new-capital-haven-power-other-countries-have-tried-that-too/;,citation_issn=0190-8286;,citation_language=en-US;,citation_journal_title=Washington Post;">
<meta name="citation_reference" content="citation_title=Capital Cities, Conflict, and Misgovernance;,citation_abstract=We investigate the links between capital cities, conflict, and the quality of governance, starting from the assumption that incumbent elites are constrained by the threat of insurrection, and that the latter is rendered less effective by distance from the seat of political power. We show evidence that (i) conflict is more likely to emerge (and dislodge incumbents) closer to the capital, and (ii) isolated capitals are associated with misgovernance. The results hold only for relatively nondemocratic countries and for intrastate conflicts over government (as opposed to territory)—exactly the cases where our central assumption should apply.;,citation_author=Filipe R. Campante;,citation_author=Quoc-Anh Do;,citation_author=Bernardo Guimaraes;,citation_publication_date=2019-07;,citation_cover_date=2019-07;,citation_year=2019;,citation_fulltext_html_url=https://www.aeaweb.org/articles?id=10.1257/app.20170111;,citation_issue=3;,citation_doi=10.1257/app.20170111;,citation_issn=1945-7782;,citation_volume=11;,citation_language=en-US;,citation_journal_title=American Economic Journal: Applied Economics;">
<meta name="citation_reference" content="citation_title=Population centroids of the world administrative units from nighttime lights 1992-2013;,citation_abstract=Knowledge about the past, current and future distribution of the human population is fundamental for tackling many global challenges. Censuses are used to collect information about population within a specified spatial unit. The spatial units are usually arbitrarily defined and their numbers, size and shape tend to change over time. These issues make comparisons between areas and countries difficult. We have in related work proposed that the shape of the lit area derived from nighttime lights, weighted by its intensity can be used to analyse characteristics of the population distribution, such as the mean centre of population. We have processed global nighttime lights data for the period 1992–2013 and derived centroids for administrative levels 0–2 of the Database of Global Administrative Areas, corresponding to nations and two levels of sub-divisions, that can be used to analyse patterns of global or local population changes. The consistency of the produced dataset was investigated and distance between true population centres and derived centres are compared using Swedish census data as a benchmark.;,citation_author=Ola Hall;,citation_author=Maria Francisca Archila Bustos;,citation_author=Niklas Boke Olén;,citation_author=Thomas Niedomysl;,citation_publication_date=2019-10;,citation_cover_date=2019-10;,citation_year=2019;,citation_fulltext_html_url=https://www.nature.com/articles/s41597-019-0250-z;,citation_issue=1;,citation_doi=10.1038/s41597-019-0250-z;,citation_issn=2052-4463;,citation_volume=6;,citation_language=en-US;,citation_journal_title=Scientific Data;,citation_publisher=Nature Publishing Group;">
<meta name="citation_reference" content="citation_title=Equatorial Guinea: Obiang’s future capital, Oyala;,citation_abstract=The people of Equatorial Guinea ought to be among the world’s wealthiest - but somehow the country’s income from oil and timber doesn’t reach them.;,citation_author=Stephen Sackur;,citation_publication_date=2012-12;,citation_cover_date=2012-12;,citation_year=2012;,citation_fulltext_html_url=https://www.bbc.com/news/magazine-20731448;,citation_language=en-GB;,citation_journal_title=BBC News;">
</head>

  <body class="quarto-notebook">
    <div id="quarto-embed-header" class="headroom fixed-top bg-primary">
      
      <a onclick="window.quartoBackToArticle(); return false;" class="btn btn-primary quarto-back-link" href=""><i class="bi bi-caret-left"></i> Back to Article</a>
      <h6><i class="bi bi-journal-code"></i> Article Notebook</h6>

            <a href="./index.qmd" class="btn btn-primary quarto-download-embed" download="index.qmd">Download Source</a>
          </div>

     <header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Spatial Dynamics of Sweetgreen and Chipotle Locations: Proximity or Competition?</h1>
            <p class="subtitle lead">DSAN 6750 / PPOL 6805: GIS for Spatial Data Science</p>
          </div>

    
    <div class="quarto-title-meta-container">
      <div class="quarto-title-meta-column-start">
            <div class="quarto-title-meta-author">
          <div class="quarto-title-meta-heading">Authors</div>
          <div class="quarto-title-meta-heading">Affiliation</div>
          
                <div class="quarto-title-meta-contents">
            <p class="author">Bella Shi <a href="mailto:js5081@georgetown.edu" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
          </div>
                <div class="quarto-title-meta-contents">
                    <p class="affiliation">
                        Georgetown University
                      </p>
                  </div>
                      <div class="quarto-title-meta-contents">
            <p class="author">Jacky Zhang <a href="mailto:jz922@georgetown.edu" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
          </div>
                <div class="quarto-title-meta-contents">
                    <p class="affiliation">
                        Georgetown University
                      </p>
                  </div>
                      <div class="quarto-title-meta-contents">
            <p class="author">Lianghui Yi <a href="mailto:ly297@georgetown.edu" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
          </div>
                <div class="quarto-title-meta-contents">
                    <p class="affiliation">
                        Georgetown University
                      </p>
                  </div>
                    </div>
        
        <div class="quarto-title-meta">

                      
          
                
              </div>
      </div>
      <div class="quarto-title-meta-column-end quarto-other-formats-target">
      </div>
    </div>



    <div class="quarto-other-links-text-target">
    </div>  </div>
</header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#preprocessing-data" id="toc-preprocessing-data" class="nav-link active" data-scroll-target="#preprocessing-data">Preprocessing Data</a></li>
  <li><a href="#exploratory-data-analysis-eda" id="toc-exploratory-data-analysis-eda" class="nav-link" data-scroll-target="#exploratory-data-analysis-eda">Exploratory Data Analysis (EDA)</a>
  <ul class="collapse">
  <li><a href="#intensity-map-of-sweetgreen-and-chipotle-locations" id="toc-intensity-map-of-sweetgreen-and-chipotle-locations" class="nav-link" data-scroll-target="#intensity-map-of-sweetgreen-and-chipotle-locations">Intensity Map of Sweetgreen and Chipotle Locations</a></li>
  </ul></li>
  <li><a href="#heatmap-of-sweetgreen-and-chipotle-locations" id="toc-heatmap-of-sweetgreen-and-chipotle-locations" class="nav-link" data-scroll-target="#heatmap-of-sweetgreen-and-chipotle-locations">Heatmap of Sweetgreen and Chipotle Locations</a></li>
  <li><a href="#hypothesis" id="toc-hypothesis" class="nav-link" data-scroll-target="#hypothesis">Hypothesis</a>
  <ul class="collapse">
  <li><a href="#hypothesis-1" id="toc-hypothesis-1" class="nav-link" data-scroll-target="#hypothesis-1">Hypothesis:</a></li>
  <li><a href="#monte-carlo-simulation" id="toc-monte-carlo-simulation" class="nav-link" data-scroll-target="#monte-carlo-simulation">Monte Carlo Simulation</a></li>
  </ul></li>
  <li><a href="#kde-plot-of-sweetgreen-and-chipotle-locations" id="toc-kde-plot-of-sweetgreen-and-chipotle-locations" class="nav-link" data-scroll-target="#kde-plot-of-sweetgreen-and-chipotle-locations">KDE Plot of Sweetgreen and Chipotle Locations</a></li>
  <li><a href="#discussion" id="toc-discussion" class="nav-link" data-scroll-target="#discussion">Discussion</a>
  <ul class="collapse">
  <li><a href="#hotelling-model-linear-city-model" id="toc-hotelling-model-linear-city-model" class="nav-link" data-scroll-target="#hotelling-model-linear-city-model">1. Hotelling Model (Linear City Model)</a></li>
  <li><a href="#salop-model-circular-city-model" id="toc-salop-model-circular-city-model" class="nav-link" data-scroll-target="#salop-model-circular-city-model">2. Salop Model (Circular City Model)</a></li>
  </ul></li>
  <li><a href="#hotelling-model-analyze-minimum-distances" id="toc-hotelling-model-analyze-minimum-distances" class="nav-link" data-scroll-target="#hotelling-model-analyze-minimum-distances">3. Hotelling Model: Analyze Minimum Distances</a></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">      

       <div id="b9ed3dfc" class="cell markdown">
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>This project investigates whether the spatial distributions of Sweetgreen and Chipotle locations in the United States are correlated. We test if the chains cluster together (suggesting direct competition) or show patterns of spatial repulsion. Our hypothesis is:</p>
<ul>
<li><p><span class="math inline">\(\mathcal{H}_0\)</span>: Sweetgreen and Chipotle locations are randomly distributed with no spatial correlation.</p></li>
<li><p><span class="math inline">\(\mathcal{H}_A\)</span>: Sweetgreen and Chipotle locations are spatially correlated (either clustering or repelling).</p></li>
</ul>
</section>
<section id="methodology" class="level2">
<h2 class="anchored" data-anchor-id="methodology">Methodology</h2>
<p>We employ spatial analysis tools and a Monte Carlo simulation to assess spatial correlation. Using a spatial lag model and randomization tests, we compare observed distances between Sweetgreen and Chipotle locations with a distribution of distances under randomized placement of Chipotle locations.</p>
<p>Key Steps:</p>
<pre><code>1.  Data Collection &amp; Geocoding: Using the Google Places API to gather restaurant coordinates.
2.  Exploratory Data Analysis: Mapping and visualizing the distributions.
3.  Monte Carlo Simulation: Testing whether observed proximity differs from random expectations.
4.  Statistical Tests: Conducting a one-sample t-test on the simulated distribution to determine significance.</code></pre>
</section>
<section id="collecting-data" class="level2">
<h2 class="anchored" data-anchor-id="collecting-data">Collecting Data</h2>
<p>Below is an example snippet showing how we used the Google Places API to collect locations. We save outputs in GeoJSON, GeoPackage, and Shapefile formats. (Actual API keys and code omitted for brevity.)</p>
</section>
</div>
<div class="cell-container code-fold"><div class="cell-decorator"><pre>In [1]:</pre></div><div id="data_collection" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Access the API key</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># api_key = config.API_KEY.strip("'")</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> geopandas <span class="im">as</span> gpd</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> shapely.geometry <span class="im">import</span> Point</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_places(api_key, query, location<span class="op">=</span><span class="va">None</span>, radius<span class="op">=</span><span class="va">None</span>, max_results<span class="op">=</span><span class="dv">100</span>):</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co">    Fetch places from Google Maps API based on a query, handling pagination.</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co">    Parameters:</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="co">        api_key (str): Google Maps API key.</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="co">        query (str): Text search query (e.g., 'Sweetgreen in Washington DC').</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="co">        location (str): Latitude,longitude string for search center.</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="co">        radius (int): Search radius in meters.</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a><span class="co">        max_results (int): Maximum number of results to fetch.</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="co">        </span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a><span class="co">        list: List of places returned by the API.</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>    base_url <span class="op">=</span> <span class="st">'https://maps.googleapis.com/maps/api/place/textsearch/json'</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>    params <span class="op">=</span> {</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>        <span class="st">'query'</span>: query,</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>        <span class="st">'key'</span>: api_key,</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>        <span class="st">'location'</span>: location,</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>        <span class="st">'radius'</span>: radius,</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>    all_places <span class="op">=</span> []</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>    next_page_token <span class="op">=</span> <span class="va">None</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="bu">len</span>(all_places) <span class="op">&lt;</span> max_results:</span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> next_page_token:</span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>            params[<span class="st">'pagetoken'</span>] <span class="op">=</span> next_page_token</span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>            response <span class="op">=</span> requests.get(base_url, params<span class="op">=</span>params)</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>            response.raise_for_status()</span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>            data <span class="op">=</span> response.json()</span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="st">'results'</span> <span class="kw">in</span> data:</span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>                all_places.extend(data[<span class="st">'results'</span>])</span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a>            next_page_token <span class="op">=</span> data.get(<span class="st">'next_page_token'</span>)</span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="kw">not</span> next_page_token:</span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>                <span class="cf">break</span>  <span class="co"># No more pages available</span></span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span> requests.exceptions.RequestException <span class="im">as</span> e:</span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"Error fetching places: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a>            <span class="cf">break</span></span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> all_places[:max_results]</span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> save_places_to_formats(places, output_prefix<span class="op">=</span><span class="st">"places"</span>, file_suffix<span class="op">=</span><span class="st">""</span>):</span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a><span class="co">    Save places to GeoJSON, GeoPackage, and Shapefile formats with customizable file names.</span></span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a><span class="co">    Parameters:</span></span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true" tabindex="-1"></a><span class="co">        places (list): List of place dictionaries from the Google Places API.</span></span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true" tabindex="-1"></a><span class="co">        output_prefix (str): Prefix for the output files (e.g., directory or base name).</span></span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true" tabindex="-1"></a><span class="co">        file_suffix (str): Custom suffix for file names (e.g., "_DC" or "_2024").</span></span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb2-65"><a href="#cb2-65" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> places:</span>
<span id="cb2-66"><a href="#cb2-66" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"No valid places found to save."</span>)</span>
<span id="cb2-67"><a href="#cb2-67" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span></span>
<span id="cb2-68"><a href="#cb2-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-69"><a href="#cb2-69" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Convert places to a GeoDataFrame</span></span>
<span id="cb2-70"><a href="#cb2-70" aria-hidden="true" tabindex="-1"></a>    data <span class="op">=</span> []</span>
<span id="cb2-71"><a href="#cb2-71" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> place <span class="kw">in</span> places:</span>
<span id="cb2-72"><a href="#cb2-72" aria-hidden="true" tabindex="-1"></a>        name <span class="op">=</span> place.get(<span class="st">'name'</span>, <span class="st">'N/A'</span>)</span>
<span id="cb2-73"><a href="#cb2-73" aria-hidden="true" tabindex="-1"></a>        address <span class="op">=</span> place.get(<span class="st">'formatted_address'</span>, <span class="st">'N/A'</span>)</span>
<span id="cb2-74"><a href="#cb2-74" aria-hidden="true" tabindex="-1"></a>        location <span class="op">=</span> place.get(<span class="st">'geometry'</span>, {}).get(<span class="st">'location'</span>, {})</span>
<span id="cb2-75"><a href="#cb2-75" aria-hidden="true" tabindex="-1"></a>        lat <span class="op">=</span> location.get(<span class="st">'lat'</span>)</span>
<span id="cb2-76"><a href="#cb2-76" aria-hidden="true" tabindex="-1"></a>        lng <span class="op">=</span> location.get(<span class="st">'lng'</span>)</span>
<span id="cb2-77"><a href="#cb2-77" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> lat <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span> <span class="kw">and</span> lng <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span>:</span>
<span id="cb2-78"><a href="#cb2-78" aria-hidden="true" tabindex="-1"></a>            data.append({</span>
<span id="cb2-79"><a href="#cb2-79" aria-hidden="true" tabindex="-1"></a>                <span class="st">'name'</span>: name,</span>
<span id="cb2-80"><a href="#cb2-80" aria-hidden="true" tabindex="-1"></a>                <span class="st">'address'</span>: address,</span>
<span id="cb2-81"><a href="#cb2-81" aria-hidden="true" tabindex="-1"></a>                <span class="st">'latitude'</span>: lat,</span>
<span id="cb2-82"><a href="#cb2-82" aria-hidden="true" tabindex="-1"></a>                <span class="st">'longitude'</span>: lng,</span>
<span id="cb2-83"><a href="#cb2-83" aria-hidden="true" tabindex="-1"></a>                <span class="st">'geometry'</span>: Point(lng, lat)</span>
<span id="cb2-84"><a href="#cb2-84" aria-hidden="true" tabindex="-1"></a>            })</span>
<span id="cb2-85"><a href="#cb2-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-86"><a href="#cb2-86" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create GeoDataFrame</span></span>
<span id="cb2-87"><a href="#cb2-87" aria-hidden="true" tabindex="-1"></a>    gdf <span class="op">=</span> gpd.GeoDataFrame(data, crs<span class="op">=</span><span class="st">"EPSG:4326"</span>)</span>
<span id="cb2-88"><a href="#cb2-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-89"><a href="#cb2-89" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Customize file names</span></span>
<span id="cb2-90"><a href="#cb2-90" aria-hidden="true" tabindex="-1"></a>    geojson_path <span class="op">=</span> <span class="ss">f"</span><span class="sc">{</span>output_prefix<span class="sc">}</span><span class="ss">_geojson</span><span class="sc">{</span>file_suffix<span class="sc">}</span><span class="ss">.geojson"</span></span>
<span id="cb2-91"><a href="#cb2-91" aria-hidden="true" tabindex="-1"></a>    geopackage_path <span class="op">=</span> <span class="ss">f"</span><span class="sc">{</span>output_prefix<span class="sc">}</span><span class="ss">_geopackage</span><span class="sc">{</span>file_suffix<span class="sc">}</span><span class="ss">.gpkg"</span></span>
<span id="cb2-92"><a href="#cb2-92" aria-hidden="true" tabindex="-1"></a>    shapefile_path <span class="op">=</span> <span class="ss">f"</span><span class="sc">{</span>output_prefix<span class="sc">}</span><span class="ss">_shapefile</span><span class="sc">{</span>file_suffix<span class="sc">}</span><span class="ss">.shp"</span></span>
<span id="cb2-93"><a href="#cb2-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-94"><a href="#cb2-94" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Ensure output directories exist</span></span>
<span id="cb2-95"><a href="#cb2-95" aria-hidden="true" tabindex="-1"></a>    os.makedirs(os.path.dirname(output_prefix), exist_ok<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb2-96"><a href="#cb2-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-97"><a href="#cb2-97" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Save files with error handling</span></span>
<span id="cb2-98"><a href="#cb2-98" aria-hidden="true" tabindex="-1"></a>    file_formats <span class="op">=</span> [</span>
<span id="cb2-99"><a href="#cb2-99" aria-hidden="true" tabindex="-1"></a>        (geojson_path, <span class="st">"GeoJSON"</span>, <span class="st">"GeoJSON"</span>),</span>
<span id="cb2-100"><a href="#cb2-100" aria-hidden="true" tabindex="-1"></a>        (geopackage_path, <span class="st">"GPKG"</span>, <span class="st">"GeoPackage"</span>),</span>
<span id="cb2-101"><a href="#cb2-101" aria-hidden="true" tabindex="-1"></a>        (shapefile_path, <span class="st">"ESRI Shapefile"</span>, <span class="st">"Shapefile"</span>),</span>
<span id="cb2-102"><a href="#cb2-102" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb2-103"><a href="#cb2-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-104"><a href="#cb2-104" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> path, driver, label <span class="kw">in</span> file_formats:</span>
<span id="cb2-105"><a href="#cb2-105" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb2-106"><a href="#cb2-106" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> driver <span class="op">==</span> <span class="st">"GPKG"</span>:</span>
<span id="cb2-107"><a href="#cb2-107" aria-hidden="true" tabindex="-1"></a>                gdf.to_file(path, layer<span class="op">=</span><span class="st">"places"</span>, driver<span class="op">=</span>driver)</span>
<span id="cb2-108"><a href="#cb2-108" aria-hidden="true" tabindex="-1"></a>            <span class="cf">else</span>:</span>
<span id="cb2-109"><a href="#cb2-109" aria-hidden="true" tabindex="-1"></a>                gdf.to_file(path, driver<span class="op">=</span>driver)</span>
<span id="cb2-110"><a href="#cb2-110" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"Saved </span><span class="sc">{</span>label<span class="sc">}</span><span class="ss"> to </span><span class="sc">{</span>path<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb2-111"><a href="#cb2-111" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb2-112"><a href="#cb2-112" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"Error saving </span><span class="sc">{</span>label<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb2-113"><a href="#cb2-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-114"><a href="#cb2-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-115"><a href="#cb2-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-116"><a href="#cb2-116" aria-hidden="true" tabindex="-1"></a><span class="co"># Example usage</span></span>
<span id="cb2-117"><a href="#cb2-117" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">"__main__"</span>:</span>
<span id="cb2-118"><a href="#cb2-118" aria-hidden="true" tabindex="-1"></a>    query <span class="op">=</span> <span class="st">'Sweetgreen in Washington DC'</span></span>
<span id="cb2-119"><a href="#cb2-119" aria-hidden="true" tabindex="-1"></a>    output_prefix <span class="op">=</span> <span class="st">"output/sweetgreen_locations"</span></span>
<span id="cb2-120"><a href="#cb2-120" aria-hidden="true" tabindex="-1"></a>    file_suffix <span class="op">=</span> <span class="st">"_2024"</span></span>
<span id="cb2-121"><a href="#cb2-121" aria-hidden="true" tabindex="-1"></a>    api_key <span class="op">=</span> <span class="st">"AIzaSyCcd3-C2h-GutmGdeo2B2vVtDFwVVd3-EU"</span></span>
<span id="cb2-122"><a href="#cb2-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-123"><a href="#cb2-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-124"><a href="#cb2-124" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Fetch places</span></span>
<span id="cb2-125"><a href="#cb2-125" aria-hidden="true" tabindex="-1"></a>    places <span class="op">=</span> get_places(api_key, query, max_results<span class="op">=</span><span class="dv">200</span>)</span>
<span id="cb2-126"><a href="#cb2-126" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Fetched </span><span class="sc">{</span><span class="bu">len</span>(places)<span class="sc">}</span><span class="ss"> places."</span>)</span>
<span id="cb2-127"><a href="#cb2-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-128"><a href="#cb2-128" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Save results</span></span>
<span id="cb2-129"><a href="#cb2-129" aria-hidden="true" tabindex="-1"></a>    save_places_to_formats(places, output_prefix, file_suffix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Fetched 18 places.
Saved GeoJSON to output/sweetgreen_locations_geojson_2024.geojson
Saved GeoPackage to output/sweetgreen_locations_geopackage_2024.gpkg
Saved Shapefile to output/sweetgreen_locations_shapefile_2024.shp</code></pre>
</div>
</div></div>
<div class="cell-container code-fold"><div class="cell-decorator"><pre>In [2]:</pre></div><div id="fafd9ca3" class="cell" data-execution_count="2">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">"__main__"</span>:</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    query <span class="op">=</span> <span class="st">'chipotle in Washington DC'</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    output_prefix <span class="op">=</span> <span class="st">"output/chipotle_locations"</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    file_suffix <span class="op">=</span> <span class="st">"_2024"</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Fetch places</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    places <span class="op">=</span> get_places(api_key, query, max_results<span class="op">=</span><span class="dv">200</span>)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Fetched </span><span class="sc">{</span><span class="bu">len</span>(places)<span class="sc">}</span><span class="ss"> places."</span>)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Save results</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    save_places_to_formats(places, output_prefix, file_suffix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Fetched 20 places.
Saved GeoJSON to output/chipotle_locations_geojson_2024.geojson
Saved GeoPackage to output/chipotle_locations_geopackage_2024.gpkg
Saved Shapefile to output/chipotle_locations_shapefile_2024.shp</code></pre>
</div>
</div></div>
<div id="6d4461bc" class="cell markdown">
<section id="preprocessing-data" class="level2">
<h2 class="anchored" data-anchor-id="preprocessing-data">Preprocessing Data</h2>
</section>
</div>
<div class="cell-container code-fold"><div class="cell-decorator"><pre>In [3]:</pre></div><div id="data_preprocessing" class="cell" data-depends_on="data_collection" data-execution_count="3">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.spatial <span class="im">import</span> distance_matrix</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> geopandas <span class="im">as</span> gpd</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Load data</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>chipotle_gdf <span class="op">=</span> gpd.read_file(<span class="st">"output/chipotle_locations_geojson_2024.geojson"</span>)  <span class="co"># Chipotle locations</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>sweetgreen_gdf <span class="op">=</span> gpd.read_file(<span class="st">"output/sweetgreen_locations_geojson_2024.geojson"</span>)</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure CRS matches</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>chipotle_gdf <span class="op">=</span> chipotle_gdf.to_crs(sweetgreen_gdf.crs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div></div>
<div id="519906d7" class="cell markdown">
<section id="exploratory-data-analysis-eda" class="level2">
<h2 class="anchored" data-anchor-id="exploratory-data-analysis-eda">Exploratory Data Analysis (EDA)</h2>
<p>After collecting data, we geocode and plot the locations. We create intensity maps and heatmaps to visually inspect spatial patterns.</p>
<section id="intensity-map-of-sweetgreen-and-chipotle-locations" class="level3">
<h3 class="anchored" data-anchor-id="intensity-map-of-sweetgreen-and-chipotle-locations">Intensity Map of Sweetgreen and Chipotle Locations</h3>
</section>
</section>
</div>
<div class="cell-container code-fold"><div class="cell-decorator"><pre>In [4]:</pre></div><div id="ac233142" class="cell" data-execution_count="4">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_places(api_key, query, location<span class="op">=</span><span class="va">None</span>, radius<span class="op">=</span><span class="dv">5000</span>):</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co">    Fetch places from Google Maps API based on a query.</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    base_url <span class="op">=</span> <span class="st">'https://maps.googleapis.com/maps/api/place/textsearch/json'</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    params <span class="op">=</span> {</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">'query'</span>: query,</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">'key'</span>: api_key,</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">'location'</span>: location,  <span class="co"># Optional: e.g., '38.9072,-77.0369'</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">'radius'</span>: radius  <span class="co"># Search radius in meters</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>    all_places <span class="op">=</span> []</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>    next_page_token <span class="op">=</span> <span class="va">None</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> next_page_token:</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>            params[<span class="st">'pagetoken'</span>] <span class="op">=</span> next_page_token</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>        response <span class="op">=</span> requests.get(base_url, params<span class="op">=</span>params)</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>        response.raise_for_status()</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>        data <span class="op">=</span> response.json()</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="st">'results'</span> <span class="kw">in</span> data:</span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>            all_places.extend(data[<span class="st">'results'</span>])</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>        next_page_token <span class="op">=</span> data.get(<span class="st">'next_page_token'</span>)</span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="kw">not</span> next_page_token:</span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>            <span class="cf">break</span>  <span class="co"># No more pages to fetch</span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Return relevant fields</span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> [</span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>            <span class="st">'name'</span>: place[<span class="st">'name'</span>],</span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>            <span class="st">'address'</span>: place.get(<span class="st">'formatted_address'</span>, <span class="st">'N/A'</span>),</span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>            <span class="st">'lat'</span>: place[<span class="st">'geometry'</span>][<span class="st">'location'</span>][<span class="st">'lat'</span>],</span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>            <span class="st">'lng'</span>: place[<span class="st">'geometry'</span>][<span class="st">'location'</span>][<span class="st">'lng'</span>]</span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> place <span class="kw">in</span> all_places</span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Example API usage</span></span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a>sweetgreen_places <span class="op">=</span> get_places(api_key, <span class="st">'Sweetgreen in Washington DC'</span>)</span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a>chipotle_places <span class="op">=</span> get_places(api_key, <span class="st">'Chipotle in Washington DC'</span>)</span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert results to DataFrames</span></span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true" tabindex="-1"></a>sweetgreen_df <span class="op">=</span> pd.DataFrame(sweetgreen_places)</span>
<span id="cb7-51"><a href="#cb7-51" aria-hidden="true" tabindex="-1"></a>chipotle_df <span class="op">=</span> pd.DataFrame(chipotle_places)</span>
<span id="cb7-52"><a href="#cb7-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-53"><a href="#cb7-53" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> folium</span>
<span id="cb7-54"><a href="#cb7-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-55"><a href="#cb7-55" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a base map centered around Washington, D.C.</span></span>
<span id="cb7-56"><a href="#cb7-56" aria-hidden="true" tabindex="-1"></a>map_center <span class="op">=</span> [<span class="fl">38.9072</span>, <span class="op">-</span><span class="fl">77.0369</span>]  <span class="co"># Latitude, Longitude</span></span>
<span id="cb7-57"><a href="#cb7-57" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> folium.Map(location<span class="op">=</span>map_center, zoom_start<span class="op">=</span><span class="dv">13</span>)</span>
<span id="cb7-58"><a href="#cb7-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-59"><a href="#cb7-59" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Sweetgreen locations to the map</span></span>
<span id="cb7-60"><a href="#cb7-60" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> _, row <span class="kw">in</span> sweetgreen_df.iterrows():</span>
<span id="cb7-61"><a href="#cb7-61" aria-hidden="true" tabindex="-1"></a>    folium.Marker(</span>
<span id="cb7-62"><a href="#cb7-62" aria-hidden="true" tabindex="-1"></a>        location<span class="op">=</span>[row[<span class="st">'lat'</span>], row[<span class="st">'lng'</span>]],</span>
<span id="cb7-63"><a href="#cb7-63" aria-hidden="true" tabindex="-1"></a>        popup<span class="op">=</span><span class="ss">f"Sweetgreen: </span><span class="sc">{</span>row[<span class="st">'name'</span>]<span class="sc">}</span><span class="ss">&lt;br&gt;</span><span class="sc">{</span>row[<span class="st">'address'</span>]<span class="sc">}</span><span class="ss">"</span>,</span>
<span id="cb7-64"><a href="#cb7-64" aria-hidden="true" tabindex="-1"></a>        icon<span class="op">=</span>folium.Icon(color<span class="op">=</span><span class="st">'green'</span>, icon<span class="op">=</span><span class="st">'leaf'</span>)</span>
<span id="cb7-65"><a href="#cb7-65" aria-hidden="true" tabindex="-1"></a>    ).add_to(m)</span>
<span id="cb7-66"><a href="#cb7-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-67"><a href="#cb7-67" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Chipotle locations to the map</span></span>
<span id="cb7-68"><a href="#cb7-68" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> _, row <span class="kw">in</span> chipotle_df.iterrows():</span>
<span id="cb7-69"><a href="#cb7-69" aria-hidden="true" tabindex="-1"></a>    folium.Marker(</span>
<span id="cb7-70"><a href="#cb7-70" aria-hidden="true" tabindex="-1"></a>        location<span class="op">=</span>[row[<span class="st">'lat'</span>], row[<span class="st">'lng'</span>]],</span>
<span id="cb7-71"><a href="#cb7-71" aria-hidden="true" tabindex="-1"></a>        popup<span class="op">=</span><span class="ss">f"Chipotle: </span><span class="sc">{</span>row[<span class="st">'name'</span>]<span class="sc">}</span><span class="ss">&lt;br&gt;</span><span class="sc">{</span>row[<span class="st">'address'</span>]<span class="sc">}</span><span class="ss">"</span>,</span>
<span id="cb7-72"><a href="#cb7-72" aria-hidden="true" tabindex="-1"></a>        icon<span class="op">=</span>folium.Icon(color<span class="op">=</span><span class="st">'orange'</span>, icon<span class="op">=</span><span class="st">'cutlery'</span>)</span>
<span id="cb7-73"><a href="#cb7-73" aria-hidden="true" tabindex="-1"></a>    ).add_to(m)</span>
<span id="cb7-74"><a href="#cb7-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-75"><a href="#cb7-75" aria-hidden="true" tabindex="-1"></a><span class="co"># Save and display the map</span></span>
<span id="cb7-76"><a href="#cb7-76" aria-hidden="true" tabindex="-1"></a>m.save(<span class="st">"sweetgreen_chipotle_map.html"</span>)</span>
<span id="cb7-77"><a href="#cb7-77" aria-hidden="true" tabindex="-1"></a>m</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="213">
<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -&gt; Trust Notebook</span><iframe srcdoc="<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;></script>
    <script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;></script>
    <script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;></script>
    <script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;></script>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/>
    
            <meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; />
            <style>
                #map_9e69d8c9015e8921b9cb63474ced52a7 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
</head>
<body>
    
    
            <div class=&quot;folium-map&quot; id=&quot;map_9e69d8c9015e8921b9cb63474ced52a7&quot; ></div>
        
</body>
<script>
    
    
            var map_9e69d8c9015e8921b9cb63474ced52a7 = L.map(
                &quot;map_9e69d8c9015e8921b9cb63474ced52a7&quot;,
                {
                    center: [38.9072, -77.0369],
                    crs: L.CRS.EPSG3857,
                    zoom: 13,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_20fd8a65248d9746b045e394d57dbd28 = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_20fd8a65248d9746b045e394d57dbd28.addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var marker_d07e7f7b15fef58385eeea19ae339e00 = L.marker(
                [38.8870647, -77.0026924],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_081c6b622d553a857d8201a25807dd7c = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;leaf&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;green&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_d07e7f7b15fef58385eeea19ae339e00.setIcon(icon_081c6b622d553a857d8201a25807dd7c);
        
    
        var popup_755053c63d026ba758f59d1ff869b1e5 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_f7e88b42b3ce7ecb8fd69f9c8cee7e6a = $(`<div id=&quot;html_f7e88b42b3ce7ecb8fd69f9c8cee7e6a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Sweetgreen: sweetgreen<br>221 Pennsylvania Ave. SE, Washington, DC 20003, United States</div>`)[0];
                popup_755053c63d026ba758f59d1ff869b1e5.setContent(html_f7e88b42b3ce7ecb8fd69f9c8cee7e6a);
            
        

        marker_d07e7f7b15fef58385eeea19ae339e00.bindPopup(popup_755053c63d026ba758f59d1ff869b1e5)
        ;

        
    
    
            var marker_2bfda6310aba828bc481d965182fd460 = L.marker(
                [38.8543928, -77.049751],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_8fbb12de390c6df5d98227743152b7ac = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;leaf&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;green&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_2bfda6310aba828bc481d965182fd460.setIcon(icon_8fbb12de390c6df5d98227743152b7ac);
        
    
        var popup_f36c4b03c77d5d8fe56cd5918d55e8a5 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_ecf4c8d772304f60e2ee39af8c84cd88 = $(`<div id=&quot;html_ecf4c8d772304f60e2ee39af8c84cd88&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Sweetgreen: sweetgreen<br>2200 Crystal Dr Ste E, Arlington, VA 22202, United States</div>`)[0];
                popup_f36c4b03c77d5d8fe56cd5918d55e8a5.setContent(html_ecf4c8d772304f60e2ee39af8c84cd88);
            
        

        marker_2bfda6310aba828bc481d965182fd460.bindPopup(popup_f36c4b03c77d5d8fe56cd5918d55e8a5)
        ;

        
    
    
            var marker_17ad9d8d5150d828852ea73ec58fb102 = L.marker(
                [38.862587, -77.05636989999999],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_9e5e0f794ad74d97da3ff05d3f062bf0 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;leaf&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;green&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_17ad9d8d5150d828852ea73ec58fb102.setIcon(icon_9e5e0f794ad74d97da3ff05d3f062bf0);
        
    
        var popup_25c80e2414f85844ac06f23a9ced6cb9 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_df45b7161af6d1510037e9ca6595d71d = $(`<div id=&quot;html_df45b7161af6d1510037e9ca6595d71d&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Sweetgreen: sweetgreen<br>575 12th Rd S Ste B2, Arlington, VA 22202, United States</div>`)[0];
                popup_25c80e2414f85844ac06f23a9ced6cb9.setContent(html_df45b7161af6d1510037e9ca6595d71d);
            
        

        marker_17ad9d8d5150d828852ea73ec58fb102.bindPopup(popup_25c80e2414f85844ac06f23a9ced6cb9)
        ;

        
    
    
            var marker_04a863c3039049fbba1992ac8bb175d1 = L.marker(
                [38.9011795, -77.0400105],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_45a5c9f89bb959c318e3eaed4ff5846a = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;leaf&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;green&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_04a863c3039049fbba1992ac8bb175d1.setIcon(icon_45a5c9f89bb959c318e3eaed4ff5846a);
        
    
        var popup_d859472803f929ec67bd72701758201a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_44d6506b8a5502dcfb2236d7796ef1ea = $(`<div id=&quot;html_44d6506b8a5502dcfb2236d7796ef1ea&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Sweetgreen: sweetgreen<br>888 17th St NW Ste 104, Washington, DC 20006, United States</div>`)[0];
                popup_d859472803f929ec67bd72701758201a.setContent(html_44d6506b8a5502dcfb2236d7796ef1ea);
            
        

        marker_04a863c3039049fbba1992ac8bb175d1.bindPopup(popup_d859472803f929ec67bd72701758201a)
        ;

        
    
    
            var marker_dc9cd7b2fc1986f4fbec69dcc8df54c6 = L.marker(
                [38.8960213, -77.0213797],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_f99181ef5e3d96fbb8d284e2c23a1e55 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;leaf&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;green&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_dc9cd7b2fc1986f4fbec69dcc8df54c6.setIcon(icon_f99181ef5e3d96fbb8d284e2c23a1e55);
        
    
        var popup_f6ff957a03067f437643dfc65751e5c7 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_7729cdfced92b570bb4aea354244f3d0 = $(`<div id=&quot;html_7729cdfced92b570bb4aea354244f3d0&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Sweetgreen: sweetgreen<br>624 E St NW, Washington, DC 20004, United States</div>`)[0];
                popup_f6ff957a03067f437643dfc65751e5c7.setContent(html_7729cdfced92b570bb4aea354244f3d0);
            
        

        marker_dc9cd7b2fc1986f4fbec69dcc8df54c6.bindPopup(popup_f6ff957a03067f437643dfc65751e5c7)
        ;

        
    
    
            var marker_2f2485e815cd6057a46f43f38b58b68d = L.marker(
                [38.905112, -77.0493497],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_bb0eb329ce85bd0b70b98e5480a1fe76 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;leaf&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;green&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_2f2485e815cd6057a46f43f38b58b68d.setIcon(icon_bb0eb329ce85bd0b70b98e5480a1fe76);
        
    
        var popup_7e4602687f2790fc38daac365b85f686 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_4e5aff79bbff008eec83c2c15e353f8a = $(`<div id=&quot;html_4e5aff79bbff008eec83c2c15e353f8a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Sweetgreen: sweetgreen<br>2238 M St NW, Washington, DC 20037, United States</div>`)[0];
                popup_7e4602687f2790fc38daac365b85f686.setContent(html_4e5aff79bbff008eec83c2c15e353f8a);
            
        

        marker_2f2485e815cd6057a46f43f38b58b68d.bindPopup(popup_7e4602687f2790fc38daac365b85f686)
        ;

        
    
    
            var marker_98ba485600959e2e58b4fb3a01d3db12 = L.marker(
                [38.8751397, -77.00036659999999],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_e1ccce2f3a3b657d76ab07742d9f67fe = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;leaf&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;green&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_98ba485600959e2e58b4fb3a01d3db12.setIcon(icon_e1ccce2f3a3b657d76ab07742d9f67fe);
        
    
        var popup_ae0c5101573ddb7a61b5cde4e227cb72 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_790b5ba1e7ed9fe5e1f9b35eb66cd53b = $(`<div id=&quot;html_790b5ba1e7ed9fe5e1f9b35eb66cd53b&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Sweetgreen: sweetgreen<br>1212 4th St SE, Washington, DC 20003, United States</div>`)[0];
                popup_ae0c5101573ddb7a61b5cde4e227cb72.setContent(html_790b5ba1e7ed9fe5e1f9b35eb66cd53b);
            
        

        marker_98ba485600959e2e58b4fb3a01d3db12.bindPopup(popup_ae0c5101573ddb7a61b5cde4e227cb72)
        ;

        
    
    
            var marker_abc6e3d3066d27ec4e0a9d60b152017f = L.marker(
                [38.9037977, -77.0629302],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_98d9b6b41e52c0405554e55417d8a4d7 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;leaf&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;green&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_abc6e3d3066d27ec4e0a9d60b152017f.setIcon(icon_98d9b6b41e52c0405554e55417d8a4d7);
        
    
        var popup_bc08df467bb7ac65cd8dec6df1fb4086 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_76bebf2a2db5403be37d363fef5ed2e1 = $(`<div id=&quot;html_76bebf2a2db5403be37d363fef5ed2e1&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Sweetgreen: sweetgreen<br>1044 Wisconsin Ave NW, Washington, DC 20007, United States</div>`)[0];
                popup_bc08df467bb7ac65cd8dec6df1fb4086.setContent(html_76bebf2a2db5403be37d363fef5ed2e1);
            
        

        marker_abc6e3d3066d27ec4e0a9d60b152017f.bindPopup(popup_bc08df467bb7ac65cd8dec6df1fb4086)
        ;

        
    
    
            var marker_fff2006203181e452497186888094f49 = L.marker(
                [38.9098374, -77.0339645],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_d205b47fa5917d85b39e4beaf0eb5594 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;leaf&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;green&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_fff2006203181e452497186888094f49.setIcon(icon_d205b47fa5917d85b39e4beaf0eb5594);
        
    
        var popup_696c3aacfaa0753c57d397392dfa13a7 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_21754a9932e2ba7fe11089045bc13d8a = $(`<div id=&quot;html_21754a9932e2ba7fe11089045bc13d8a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Sweetgreen: sweetgreen<br>1461 P St NW, Washington, DC 20005, United States</div>`)[0];
                popup_696c3aacfaa0753c57d397392dfa13a7.setContent(html_21754a9932e2ba7fe11089045bc13d8a);
            
        

        marker_fff2006203181e452497186888094f49.bindPopup(popup_696c3aacfaa0753c57d397392dfa13a7)
        ;

        
    
    
            var marker_800102f9c023c9c8adcb557cdaf8c42e = L.marker(
                [38.9009086, -77.0496211],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_ea57a45594d69153b0e15f9ace2c3bf6 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;leaf&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;green&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_800102f9c023c9c8adcb557cdaf8c42e.setIcon(icon_ea57a45594d69153b0e15f9ace2c3bf6);
        
    
        var popup_d70c2d620b4dc4e8c1ccb0d483b3c1b0 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_afe19266042451952e435fda351cd747 = $(`<div id=&quot;html_afe19266042451952e435fda351cd747&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Sweetgreen: sweetgreen<br>2221 I St NW, Washington, DC 20037, United States</div>`)[0];
                popup_d70c2d620b4dc4e8c1ccb0d483b3c1b0.setContent(html_afe19266042451952e435fda351cd747);
            
        

        marker_800102f9c023c9c8adcb557cdaf8c42e.bindPopup(popup_d70c2d620b4dc4e8c1ccb0d483b3c1b0)
        ;

        
    
    
            var marker_3b42732c84871d946bc99b34753706ce = L.marker(
                [38.9017462, -77.0200861],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_3985d72d669013cd515382192d0ab006 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;leaf&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;green&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_3b42732c84871d946bc99b34753706ce.setIcon(icon_3985d72d669013cd515382192d0ab006);
        
    
        var popup_a9e4da786a46663e6d6d2221e0f405a0 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_2363a6f63009ac60142f6aef86d30bd6 = $(`<div id=&quot;html_2363a6f63009ac60142f6aef86d30bd6&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Sweetgreen: sweetgreen<br>601 Massachusetts Ave NW Suite 110, Washington, DC 20001, United States</div>`)[0];
                popup_a9e4da786a46663e6d6d2221e0f405a0.setContent(html_2363a6f63009ac60142f6aef86d30bd6);
            
        

        marker_3b42732c84871d946bc99b34753706ce.bindPopup(popup_a9e4da786a46663e6d6d2221e0f405a0)
        ;

        
    
    
            var marker_7b31e230523689ce3294cb1af6bdc0ac = L.marker(
                [38.9104708, -77.0441824],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_e28ac24ce00d1539ff441189bacc30ad = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;leaf&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;green&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_7b31e230523689ce3294cb1af6bdc0ac.setIcon(icon_e28ac24ce00d1539ff441189bacc30ad);
        
    
        var popup_1a23ff21111f9cd5264260242dddae0e = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_8b26198fedaba21aec60a01fcfd6ddb4 = $(`<div id=&quot;html_8b26198fedaba21aec60a01fcfd6ddb4&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Sweetgreen: sweetgreen<br>1512 Connecticut Ave NW, Washington, DC 20036, United States</div>`)[0];
                popup_1a23ff21111f9cd5264260242dddae0e.setContent(html_8b26198fedaba21aec60a01fcfd6ddb4);
            
        

        marker_7b31e230523689ce3294cb1af6bdc0ac.bindPopup(popup_1a23ff21111f9cd5264260242dddae0e)
        ;

        
    
    
            var marker_da20243c175614898e9d4a647940089a = L.marker(
                [38.9193652, -77.03125639999999],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_eca807492dd8610e2a59bd48844cdedb = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;leaf&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;green&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_da20243c175614898e9d4a647940089a.setIcon(icon_eca807492dd8610e2a59bd48844cdedb);
        
    
        var popup_756c316f078328e1ba6fb6ef59f81895 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_4143d893e08957e27b8675c0641ec3c6 = $(`<div id=&quot;html_4143d893e08957e27b8675c0641ec3c6&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Sweetgreen: sweetgreen<br>1325 W St NW, Washington, DC 20009, United States</div>`)[0];
                popup_756c316f078328e1ba6fb6ef59f81895.setContent(html_4143d893e08957e27b8675c0641ec3c6);
            
        

        marker_da20243c175614898e9d4a647940089a.bindPopup(popup_756c316f078328e1ba6fb6ef59f81895)
        ;

        
    
    
            var marker_00ae833e03787279655eb1258485f1e7 = L.marker(
                [38.8963197, -77.0710847],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_5cad180395488a6647bb5ae598591d27 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;leaf&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;green&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_00ae833e03787279655eb1258485f1e7.setIcon(icon_5cad180395488a6647bb5ae598591d27);
        
    
        var popup_59043e55bc5aea8afae3b67b87831131 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_8618f14c2dc197b6767877477cb8caed = $(`<div id=&quot;html_8618f14c2dc197b6767877477cb8caed&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Sweetgreen: sweetgreen<br>1800 N Lynn St, Arlington, VA 22209, United States</div>`)[0];
                popup_59043e55bc5aea8afae3b67b87831131.setContent(html_8618f14c2dc197b6767877477cb8caed);
            
        

        marker_00ae833e03787279655eb1258485f1e7.bindPopup(popup_59043e55bc5aea8afae3b67b87831131)
        ;

        
    
    
            var marker_cff557b90e62088b2eaf55149f31ce05 = L.marker(
                [38.8055476, -77.0489815],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_b8cb6d21675a4e4c42657310896ab32a = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;leaf&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;green&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_cff557b90e62088b2eaf55149f31ce05.setIcon(icon_b8cb6d21675a4e4c42657310896ab32a);
        
    
        var popup_b6a1d8bade29c72cc493e06bd5d1f821 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_671cf2552a2802027df5ecc168f09d92 = $(`<div id=&quot;html_671cf2552a2802027df5ecc168f09d92&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Sweetgreen: sweetgreen<br>823 King St, Alexandria, VA 22314, United States</div>`)[0];
                popup_b6a1d8bade29c72cc493e06bd5d1f821.setContent(html_671cf2552a2802027df5ecc168f09d92);
            
        

        marker_cff557b90e62088b2eaf55149f31ce05.bindPopup(popup_b6a1d8bade29c72cc493e06bd5d1f821)
        ;

        
    
    
            var marker_45efac8474d25dd76773bbd5019e4c6f = L.marker(
                [38.9094363, -76.9992036],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_dc8d5fd87125630abcde3a87e1797a99 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;leaf&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;green&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_45efac8474d25dd76773bbd5019e4c6f.setIcon(icon_dc8d5fd87125630abcde3a87e1797a99);
        
    
        var popup_24f0c942110bba4ef9190b3cbb699d26 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_f2253004a8fdd6dbf3788586edbb0462 = $(`<div id=&quot;html_f2253004a8fdd6dbf3788586edbb0462&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Sweetgreen: sweetgreen<br>1304 4th St NE, Washington, DC 20002, United States</div>`)[0];
                popup_24f0c942110bba4ef9190b3cbb699d26.setContent(html_f2253004a8fdd6dbf3788586edbb0462);
            
        

        marker_45efac8474d25dd76773bbd5019e4c6f.bindPopup(popup_24f0c942110bba4ef9190b3cbb699d26)
        ;

        
    
    
            var marker_cbfb19529e01dde191c554147d546e2b = L.marker(
                [38.8865318, -77.0953846],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_2fb3082c950b53a01a267c108bcda291 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;leaf&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;green&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_cbfb19529e01dde191c554147d546e2b.setIcon(icon_2fb3082c950b53a01a267c108bcda291);
        
    
        var popup_c659b27645e89cfb94c1472738a40fbe = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_6e26532ae63010fa7ef85cb0480a57fb = $(`<div id=&quot;html_6e26532ae63010fa7ef85cb0480a57fb&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Sweetgreen: sweetgreen<br>3100 Clarendon Blvd, Arlington, VA 22201, United States</div>`)[0];
                popup_c659b27645e89cfb94c1472738a40fbe.setContent(html_6e26532ae63010fa7ef85cb0480a57fb);
            
        

        marker_cbfb19529e01dde191c554147d546e2b.bindPopup(popup_c659b27645e89cfb94c1472738a40fbe)
        ;

        
    
    
            var marker_7906c219eb877c0faa2ac145978ed6e8 = L.marker(
                [38.9951025, -77.02683809999999],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_5a2a1c35d8deee07aad76459197294e4 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;leaf&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;green&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_7906c219eb877c0faa2ac145978ed6e8.setIcon(icon_5a2a1c35d8deee07aad76459197294e4);
        
    
        var popup_da34b908ac4bde8517b60475fac835b0 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_7acb0bbe34ab55ddf0ed359cd2224eb2 = $(`<div id=&quot;html_7acb0bbe34ab55ddf0ed359cd2224eb2&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Sweetgreen: sweetgreen<br>8517 Georgia Ave, Silver Spring, MD 20910, United States</div>`)[0];
                popup_da34b908ac4bde8517b60475fac835b0.setContent(html_7acb0bbe34ab55ddf0ed359cd2224eb2);
            
        

        marker_7906c219eb877c0faa2ac145978ed6e8.bindPopup(popup_da34b908ac4bde8517b60475fac835b0)
        ;

        
    
    
            var marker_b51b214485df282116398d4aab5ede16 = L.marker(
                [38.8989526, -77.0221044],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_ae9c74f6de6a3bb78ab772b8a7dcea8f = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;cutlery&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;orange&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_b51b214485df282116398d4aab5ede16.setIcon(icon_ae9c74f6de6a3bb78ab772b8a7dcea8f);
        
    
        var popup_4c92180b046d970a9f25bb0323a05720 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_19de07bfebadd5eda044c917b41d8eff = $(`<div id=&quot;html_19de07bfebadd5eda044c917b41d8eff&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Chipotle: Chipotle Mexican Grill<br>710 7th St NW, Washington, DC 20001, United States</div>`)[0];
                popup_4c92180b046d970a9f25bb0323a05720.setContent(html_19de07bfebadd5eda044c917b41d8eff);
            
        

        marker_b51b214485df282116398d4aab5ede16.bindPopup(popup_4c92180b046d970a9f25bb0323a05720)
        ;

        
    
    
            var marker_6be7db4173b54ad62313246970e0cc88 = L.marker(
                [38.89599, -77.02615999999999],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_252c87acdebe98419aaf6c91ced2b4c1 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;cutlery&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;orange&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_6be7db4173b54ad62313246970e0cc88.setIcon(icon_252c87acdebe98419aaf6c91ced2b4c1);
        
    
        var popup_6f0dc17d1c90077c0125e882d044ce8c = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_6264f5d315452e2385fabef4119bf697 = $(`<div id=&quot;html_6264f5d315452e2385fabef4119bf697&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Chipotle: Chipotle Mexican Grill<br>1001 Pennsylvania Avenue NW, Washington, DC 20004, United States</div>`)[0];
                popup_6f0dc17d1c90077c0125e882d044ce8c.setContent(html_6264f5d315452e2385fabef4119bf697);
            
        

        marker_6be7db4173b54ad62313246970e0cc88.bindPopup(popup_6f0dc17d1c90077c0125e882d044ce8c)
        ;

        
    
    
            var marker_0d7bc4d20dc5cb02ef63a172808d5666 = L.marker(
                [38.8754508, -77.00615739999999],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_1e508503266ef2494a50016b56eea231 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;cutlery&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;orange&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_0d7bc4d20dc5cb02ef63a172808d5666.setIcon(icon_1e508503266ef2494a50016b56eea231);
        
    
        var popup_e6c28c7abb49d2a87b26aa30134476d8 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_34a3e3613d971df44667665e2c01c224 = $(`<div id=&quot;html_34a3e3613d971df44667665e2c01c224&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Chipotle: Chipotle Mexican Grill<br>1255 First St SE, Washington, DC 20003, United States</div>`)[0];
                popup_e6c28c7abb49d2a87b26aa30134476d8.setContent(html_34a3e3613d971df44667665e2c01c224);
            
        

        marker_0d7bc4d20dc5cb02ef63a172808d5666.bindPopup(popup_e6c28c7abb49d2a87b26aa30134476d8)
        ;

        
    
    
            var marker_ef662ae4b0df7326bebe1952945fdb2e = L.marker(
                [38.9045589, -77.0060834],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_4f87d82446f5a3d11f36b94572f69f24 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;cutlery&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;orange&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_ef662ae4b0df7326bebe1952945fdb2e.setIcon(icon_4f87d82446f5a3d11f36b94572f69f24);
        
    
        var popup_df2013ef2ef1718273cd688b68966700 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_f458af406362562ac889efb5cf9757a9 = $(`<div id=&quot;html_f458af406362562ac889efb5cf9757a9&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Chipotle: Chipotle Mexican Grill<br>1150 First St NE #103, Washington, DC 20002, United States</div>`)[0];
                popup_df2013ef2ef1718273cd688b68966700.setContent(html_f458af406362562ac889efb5cf9757a9);
            
        

        marker_ef662ae4b0df7326bebe1952945fdb2e.bindPopup(popup_df2013ef2ef1718273cd688b68966700)
        ;

        
    
    
            var marker_199c9093f3ec53588aa0961be7c43e4a = L.marker(
                [38.9005783, -77.0450647],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_29b83c29d84697ee6d39e569c1dace64 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;cutlery&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;orange&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_199c9093f3ec53588aa0961be7c43e4a.setIcon(icon_29b83c29d84697ee6d39e569c1dace64);
        
    
        var popup_4557775347278ad3eb0b52c85b350d2d = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_14c9e51c86409f4e0fda6b7e7a5639c1 = $(`<div id=&quot;html_14c9e51c86409f4e0fda6b7e7a5639c1&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Chipotle: Chipotle Mexican Grill<br>2000 Pennsylvania Avenue NW, Washington, DC 20006, United States</div>`)[0];
                popup_4557775347278ad3eb0b52c85b350d2d.setContent(html_14c9e51c86409f4e0fda6b7e7a5639c1);
            
        

        marker_199c9093f3ec53588aa0961be7c43e4a.bindPopup(popup_4557775347278ad3eb0b52c85b350d2d)
        ;

        
    
    
            var marker_454238ab9146d68f281adb8398061f58 = L.marker(
                [38.9053797, -77.0645631],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_3d4900ae1388234b222ee9445fbee6db = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;cutlery&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;orange&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_454238ab9146d68f281adb8398061f58.setIcon(icon_3d4900ae1388234b222ee9445fbee6db);
        
    
        var popup_024b62f7c247514ffdd72d89624a26ca = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_50706de9aae0a73a081fdcab7e814f82 = $(`<div id=&quot;html_50706de9aae0a73a081fdcab7e814f82&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Chipotle: Chipotle Mexican Grill<br>3255 M St NW, Washington, DC 20007, United States</div>`)[0];
                popup_024b62f7c247514ffdd72d89624a26ca.setContent(html_50706de9aae0a73a081fdcab7e814f82);
            
        

        marker_454238ab9146d68f281adb8398061f58.bindPopup(popup_024b62f7c247514ffdd72d89624a26ca)
        ;

        
    
    
            var marker_197fe6f4f5b19a8be468f1ea8413aa83 = L.marker(
                [38.9031367, -77.0187644],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_2d0056a820a99f22ae3fd1a63c2f9488 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;cutlery&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;orange&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_197fe6f4f5b19a8be468f1ea8413aa83.setIcon(icon_2d0056a820a99f22ae3fd1a63c2f9488);
        
    
        var popup_f54c4b716f4b9852952d170ec9c57400 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_ee2b70cfea1e50abf575d0cdb26c620d = $(`<div id=&quot;html_ee2b70cfea1e50abf575d0cdb26c620d&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Chipotle: Chipotle Mexican Grill<br>1045 5th St NW, Washington, DC 20001, United States</div>`)[0];
                popup_f54c4b716f4b9852952d170ec9c57400.setContent(html_ee2b70cfea1e50abf575d0cdb26c620d);
            
        

        marker_197fe6f4f5b19a8be468f1ea8413aa83.bindPopup(popup_f54c4b716f4b9852952d170ec9c57400)
        ;

        
    
    
            var marker_0082e3502f5fd968c45dd044203e2631 = L.marker(
                [38.90308, -77.033715],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_762ba37686dbd316c2bd21bd7902fcf3 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;cutlery&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;orange&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_0082e3502f5fd968c45dd044203e2631.setIcon(icon_762ba37686dbd316c2bd21bd7902fcf3);
        
    
        var popup_98bf1422f46fc11551fe8c561816cadb = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_f9fa0fca2f7d42a875de087d191a0822 = $(`<div id=&quot;html_f9fa0fca2f7d42a875de087d191a0822&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Chipotle: Chipotle Mexican Grill<br>1010 Vermont Ave NW Suite 101, Washington, DC 20005, United States</div>`)[0];
                popup_98bf1422f46fc11551fe8c561816cadb.setContent(html_f9fa0fca2f7d42a875de087d191a0822);
            
        

        marker_0082e3502f5fd968c45dd044203e2631.bindPopup(popup_98bf1422f46fc11551fe8c561816cadb)
        ;

        
    
    
            var marker_c7c58d913d68c92cd76b119febf255b4 = L.marker(
                [38.9100156, -77.03225379999999],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_1e267737532927f667847c2b47d7a6f6 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;cutlery&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;orange&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_c7c58d913d68c92cd76b119febf255b4.setIcon(icon_1e267737532927f667847c2b47d7a6f6);
        
    
        var popup_2b1e426e5091124742078303b0560eec = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_30f9d5a0ef8d5b931ea14f6edfeb873c = $(`<div id=&quot;html_30f9d5a0ef8d5b931ea14f6edfeb873c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Chipotle: Chipotle Mexican Grill<br>1508 14th St NW, Washington, DC 20005, United States</div>`)[0];
                popup_2b1e426e5091124742078303b0560eec.setContent(html_30f9d5a0ef8d5b931ea14f6edfeb873c);
            
        

        marker_c7c58d913d68c92cd76b119febf255b4.bindPopup(popup_2b1e426e5091124742078303b0560eec)
        ;

        
    
    
            var marker_d05d2abdb429d11c203c9956d7c707bf = L.marker(
                [38.8832538, -76.9952747],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_e63f7dcdc759e21d65cce627b773f36c = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;cutlery&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;orange&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_d05d2abdb429d11c203c9956d7c707bf.setIcon(icon_e63f7dcdc759e21d65cce627b773f36c);
        
    
        var popup_edd50a1a56915505b3447a4b3d33f813 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_e9ffac46722c34fd264c308e615ac26a = $(`<div id=&quot;html_e9ffac46722c34fd264c308e615ac26a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Chipotle: Chipotle Mexican Grill<br>413 8th St SE, Washington, DC 20003, United States</div>`)[0];
                popup_edd50a1a56915505b3447a4b3d33f813.setContent(html_e9ffac46722c34fd264c308e615ac26a);
            
        

        marker_d05d2abdb429d11c203c9956d7c707bf.bindPopup(popup_edd50a1a56915505b3447a4b3d33f813)
        ;

        
    
    
            var marker_8c96a03f6fc27c1d862d50c6cfb71bd0 = L.marker(
                [38.8464765, -76.98041760000001],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_fdcd88fff2e9537fe031cc2bb1576047 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;cutlery&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;orange&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_8c96a03f6fc27c1d862d50c6cfb71bd0.setIcon(icon_fdcd88fff2e9537fe031cc2bb1576047);
        
    
        var popup_5eb9069106a7c9a83a87b377fc201b4e = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_3bc6c8a5ca8c748c404226f7b9f0a9e8 = $(`<div id=&quot;html_3bc6c8a5ca8c748c404226f7b9f0a9e8&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Chipotle: Chipotle Mexican Grill<br>1571 Alabama Ave SE, Washington, DC 20032, United States</div>`)[0];
                popup_5eb9069106a7c9a83a87b377fc201b4e.setContent(html_3bc6c8a5ca8c748c404226f7b9f0a9e8);
            
        

        marker_8c96a03f6fc27c1d862d50c6cfb71bd0.bindPopup(popup_5eb9069106a7c9a83a87b377fc201b4e)
        ;

        
    
    
            var marker_68b37d3ef1fddc53dd9ba2f9df687f84 = L.marker(
                [38.9075, -77.0426852],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_893923c698d60f90f1cfd888f7a5cb3e = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;cutlery&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;orange&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_68b37d3ef1fddc53dd9ba2f9df687f84.setIcon(icon_893923c698d60f90f1cfd888f7a5cb3e);
        
    
        var popup_74ec915b05c462ccf247a3779d4e007e = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_d954eaec010969d471037aa66bf2da0a = $(`<div id=&quot;html_d954eaec010969d471037aa66bf2da0a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Chipotle: Chipotle Mexican Grill<br>1300 Connecticut Ave NW, Washington, DC 20036, United States</div>`)[0];
                popup_74ec915b05c462ccf247a3779d4e007e.setContent(html_d954eaec010969d471037aa66bf2da0a);
            
        

        marker_68b37d3ef1fddc53dd9ba2f9df687f84.bindPopup(popup_74ec915b05c462ccf247a3779d4e007e)
        ;

        
    
    
            var marker_467e05fed2f84aee51e831beb456dcd3 = L.marker(
                [38.897635, -77.0068343],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_6aa7331a990becce2081d18a9ad1e283 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;cutlery&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;orange&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_467e05fed2f84aee51e831beb456dcd3.setIcon(icon_6aa7331a990becce2081d18a9ad1e283);
        
    
        var popup_83f922dd1c4a87dc780ce977dddc369a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_a4e6d88ffa2f8867b02a24b8a8680f88 = $(`<div id=&quot;html_a4e6d88ffa2f8867b02a24b8a8680f88&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Chipotle: Chipotle Mexican Grill<br>50 Massachusetts Ave NE, Washington, DC 20002, United States</div>`)[0];
                popup_83f922dd1c4a87dc780ce977dddc369a.setContent(html_a4e6d88ffa2f8867b02a24b8a8680f88);
            
        

        marker_467e05fed2f84aee51e831beb456dcd3.bindPopup(popup_83f922dd1c4a87dc780ce977dddc369a)
        ;

        
    
    
            var marker_360f0434157903c1f085cbec5451eac1 = L.marker(
                [38.8632757, -77.0605838],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_54220c773e8efe9749d9acb2edbc1d16 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;cutlery&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;orange&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_360f0434157903c1f085cbec5451eac1.setIcon(icon_54220c773e8efe9749d9acb2edbc1d16);
        
    
        var popup_73e45d518a9d30956ae1ca6f8cc71e36 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_b5ada93681784c2799906dd252da132e = $(`<div id=&quot;html_b5ada93681784c2799906dd252da132e&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Chipotle: Chipotle Mexican Grill<br>1100 S Hayes St, Arlington, VA 22202, United States</div>`)[0];
                popup_73e45d518a9d30956ae1ca6f8cc71e36.setContent(html_b5ada93681784c2799906dd252da132e);
            
        

        marker_360f0434157903c1f085cbec5451eac1.bindPopup(popup_73e45d518a9d30956ae1ca6f8cc71e36)
        ;

        
    
    
            var marker_27db5de0463c3d9b6c63c9d46b493776 = L.marker(
                [38.9237207, -77.0520064],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_53d1c77d37b36ac802c298a50b1bfb34 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;cutlery&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;orange&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_27db5de0463c3d9b6c63c9d46b493776.setIcon(icon_53d1c77d37b36ac802c298a50b1bfb34);
        
    
        var popup_dfb5ea71d1180d6000ea441679badb16 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_060848f91d145828db4ca114e63b4e61 = $(`<div id=&quot;html_060848f91d145828db4ca114e63b4e61&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Chipotle: Chipotle Mexican Grill<br>2600 Connecticut Ave NW, Washington, DC 20008, United States</div>`)[0];
                popup_dfb5ea71d1180d6000ea441679badb16.setContent(html_060848f91d145828db4ca114e63b4e61);
            
        

        marker_27db5de0463c3d9b6c63c9d46b493776.bindPopup(popup_dfb5ea71d1180d6000ea441679badb16)
        ;

        
    
    
            var marker_cd0f77f81403acd433855be3de3c7c51 = L.marker(
                [38.9210882, -77.0218647],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_67ddd8ebf38e58c3636973dc158303eb = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;cutlery&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;orange&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_cd0f77f81403acd433855be3de3c7c51.setIcon(icon_67ddd8ebf38e58c3636973dc158303eb);
        
    
        var popup_775fed8c7a844b4261b76fc581a330b2 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_0f09ce721054ae6700e792e704c2f04d = $(`<div id=&quot;html_0f09ce721054ae6700e792e704c2f04d&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Chipotle: Chipotle Mexican Grill<br>2301 Georgia Ave NW, Washington, DC 20001, United States</div>`)[0];
                popup_775fed8c7a844b4261b76fc581a330b2.setContent(html_0f09ce721054ae6700e792e704c2f04d);
            
        

        marker_cd0f77f81403acd433855be3de3c7c51.bindPopup(popup_775fed8c7a844b4261b76fc581a330b2)
        ;

        
    
    
            var marker_21f5b367d50f5c40b3b2e3b02e132401 = L.marker(
                [38.8540267, -77.0490726],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_35d8071e4d5aff887b8bad77b51f43e8 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;cutlery&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;orange&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_21f5b367d50f5c40b3b2e3b02e132401.setIcon(icon_35d8071e4d5aff887b8bad77b51f43e8);
        
    
        var popup_3ca656711aa3c599fc6bc5cbe085e23e = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_afbef076e7887a20c90c583d83ff26e0 = $(`<div id=&quot;html_afbef076e7887a20c90c583d83ff26e0&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Chipotle: Chipotle Mexican Grill<br>2231 Crystal Dr, Arlington, VA 22202, United States</div>`)[0];
                popup_3ca656711aa3c599fc6bc5cbe085e23e.setContent(html_afbef076e7887a20c90c583d83ff26e0);
            
        

        marker_21f5b367d50f5c40b3b2e3b02e132401.bindPopup(popup_3ca656711aa3c599fc6bc5cbe085e23e)
        ;

        
    
    
            var marker_933312f5e6f97cfd383968de949400ef = L.marker(
                [38.9296678, -77.0324207],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_c220022ce6c6950a474a8a2e84ae7ae4 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;cutlery&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;orange&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_933312f5e6f97cfd383968de949400ef.setIcon(icon_c220022ce6c6950a474a8a2e84ae7ae4);
        
    
        var popup_d25280d6b97b37eb5a0bc5f7451050c3 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_f51f3a5006f0e23609069af73ca2ab4d = $(`<div id=&quot;html_f51f3a5006f0e23609069af73ca2ab4d&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Chipotle: Chipotle Mexican Grill<br>3113 14th St NW, Washington, DC 20010, United States</div>`)[0];
                popup_d25280d6b97b37eb5a0bc5f7451050c3.setContent(html_f51f3a5006f0e23609069af73ca2ab4d);
            
        

        marker_933312f5e6f97cfd383968de949400ef.bindPopup(popup_d25280d6b97b37eb5a0bc5f7451050c3)
        ;

        
    
    
            var marker_3fe878893f8ce2bfff286dd587db1b68 = L.marker(
                [38.8979479, -77.0062458],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_9cb0ef45d48eb43777554fb745b900c1 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;cutlery&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;orange&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_3fe878893f8ce2bfff286dd587db1b68.setIcon(icon_9cb0ef45d48eb43777554fb745b900c1);
        
    
        var popup_0ac6ac186589928d0fb6c5d856764eba = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_edf58c2fe8e0c4a73fc55a02cfb9e035 = $(`<div id=&quot;html_edf58c2fe8e0c4a73fc55a02cfb9e035&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Chipotle: Chipotle Mexican Grill<br>40 Massachusetts Ave NE, Washington, DC 20002, United States</div>`)[0];
                popup_0ac6ac186589928d0fb6c5d856764eba.setContent(html_edf58c2fe8e0c4a73fc55a02cfb9e035);
            
        

        marker_3fe878893f8ce2bfff286dd587db1b68.bindPopup(popup_0ac6ac186589928d0fb6c5d856764eba)
        ;

        
    
    
            var marker_36d3c45aa362306046a7fd961aea32f1 = L.marker(
                [38.9208758, -76.9939977],
                {}
            ).addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
    
            var icon_78fa5706c0f9f1effadda8d8ce0155a2 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;cutlery&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;orange&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_36d3c45aa362306046a7fd961aea32f1.setIcon(icon_78fa5706c0f9f1effadda8d8ce0155a2);
        
    
        var popup_063dc0e24151f9e2de9fa83fc4fb1870 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_6fbcc466208b6771813109f87b197b3f = $(`<div id=&quot;html_6fbcc466208b6771813109f87b197b3f&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Chipotle: Chipotle Mexican Grill<br>2300 Washington Pl NE Ste 101S, Washington, DC 20018, United States</div>`)[0];
                popup_063dc0e24151f9e2de9fa83fc4fb1870.setContent(html_6fbcc466208b6771813109f87b197b3f);
            
        

        marker_36d3c45aa362306046a7fd961aea32f1.bindPopup(popup_063dc0e24151f9e2de9fa83fc4fb1870)
        ;

        
    
    
            tile_layer_20fd8a65248d9746b045e394d57dbd28.addTo(map_9e69d8c9015e8921b9cb63474ced52a7);
        
</script>
</html>" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe></div></div>
</div>
</div></div>
<div id="3546527f" class="cell markdown">
<section id="heatmap-of-sweetgreen-and-chipotle-locations" class="level3">
<h3 class="anchored" data-anchor-id="heatmap-of-sweetgreen-and-chipotle-locations">Heatmap of Sweetgreen and Chipotle Locations</h3>
</section>
</div>
<div class="cell-container code-fold"><div class="cell-decorator"><pre>In [5]:</pre></div><div id="d581c7be" class="cell" data-execution_count="5">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> folium.plugins <span class="im">import</span> HeatMap</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> folium</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a base map centered on Washington, D.C.</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>map_center <span class="op">=</span> [<span class="fl">38.9072</span>, <span class="op">-</span><span class="fl">77.0369</span>]  <span class="co"># Latitude, Longitude</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>heatmap <span class="op">=</span> folium.Map(location<span class="op">=</span>map_center, zoom_start<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare data for Sweetgreen heatmap (latitudes and longitudes)</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>sweetgreen_heat_data <span class="op">=</span> sweetgreen_df[[<span class="st">'lat'</span>, <span class="st">'lng'</span>]].values.tolist()</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Sweetgreen HeatMap</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>HeatMap(sweetgreen_heat_data, radius<span class="op">=</span><span class="dv">15</span>, gradient<span class="op">=</span>{<span class="fl">0.2</span>: <span class="st">'blue'</span>, <span class="fl">0.5</span>: <span class="st">'lime'</span>, <span class="fl">0.8</span>: <span class="st">'red'</span>}).add_to(heatmap)</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare data for Chipotle heatmap</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>chipotle_heat_data <span class="op">=</span> chipotle_df[[<span class="st">'lat'</span>, <span class="st">'lng'</span>]].values.tolist()</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Chipotle HeatMap</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>HeatMap(chipotle_heat_data, radius<span class="op">=</span><span class="dv">15</span>, gradient<span class="op">=</span>{<span class="fl">0.2</span>: <span class="st">'purple'</span>, <span class="fl">0.5</span>: <span class="st">'orange'</span>, <span class="fl">0.8</span>: <span class="st">'yellow'</span>}).add_to(heatmap)</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the heatmap to an HTML file</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>heatmap.save(<span class="st">"sweetgreen_chipotle_heatmap.html"</span>)</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>heatmap</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="214">
<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -&gt; Trust Notebook</span><iframe srcdoc="<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;></script>
    <script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;></script>
    <script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;></script>
    <script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;></script>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/>
    
            <meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; />
            <style>
                #map_9451e0ce0c19de58662ee07df16bd813 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
    <script src=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium@main/folium/templates/leaflet_heat.min.js&quot;></script>
</head>
<body>
    
    
            <div class=&quot;folium-map&quot; id=&quot;map_9451e0ce0c19de58662ee07df16bd813&quot; ></div>
        
</body>
<script>
    
    
            var map_9451e0ce0c19de58662ee07df16bd813 = L.map(
                &quot;map_9451e0ce0c19de58662ee07df16bd813&quot;,
                {
                    center: [38.9072, -77.0369],
                    crs: L.CRS.EPSG3857,
                    zoom: 12,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_1acc5cd150b00aee3f85fbd340156ec4 = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_1acc5cd150b00aee3f85fbd340156ec4.addTo(map_9451e0ce0c19de58662ee07df16bd813);
        
    
            var heat_map_da63a55fa0f93ef44243c07e6b9bccc6 = L.heatLayer(
                [[38.8870647, -77.0026924], [38.8543928, -77.049751], [38.862587, -77.05636989999999], [38.9011795, -77.0400105], [38.8960213, -77.0213797], [38.905112, -77.0493497], [38.8751397, -77.00036659999999], [38.9037977, -77.0629302], [38.9098374, -77.0339645], [38.9009086, -77.0496211], [38.9017462, -77.0200861], [38.9104708, -77.0441824], [38.9193652, -77.03125639999999], [38.8963197, -77.0710847], [38.8055476, -77.0489815], [38.9094363, -76.9992036], [38.8865318, -77.0953846], [38.9951025, -77.02683809999999]],
                {&quot;blur&quot;: 15, &quot;gradient&quot;: {&quot;0.2&quot;: &quot;blue&quot;, &quot;0.5&quot;: &quot;lime&quot;, &quot;0.8&quot;: &quot;red&quot;}, &quot;maxZoom&quot;: 18, &quot;minOpacity&quot;: 0.5, &quot;radius&quot;: 15}
            );
        
    
            heat_map_da63a55fa0f93ef44243c07e6b9bccc6.addTo(map_9451e0ce0c19de58662ee07df16bd813);
        
    
            var heat_map_27afebb4e9f0ef44924efbcf2bf11349 = L.heatLayer(
                [[38.8989526, -77.0221044], [38.89599, -77.02615999999999], [38.8754508, -77.00615739999999], [38.9045589, -77.0060834], [38.9005783, -77.0450647], [38.9053797, -77.0645631], [38.9031367, -77.0187644], [38.90308, -77.033715], [38.9100156, -77.03225379999999], [38.8832538, -76.9952747], [38.8464765, -76.98041760000001], [38.9075, -77.0426852], [38.897635, -77.0068343], [38.8632757, -77.0605838], [38.9237207, -77.0520064], [38.9210882, -77.0218647], [38.8540267, -77.0490726], [38.9296678, -77.0324207], [38.8979479, -77.0062458], [38.9208758, -76.9939977]],
                {&quot;blur&quot;: 15, &quot;gradient&quot;: {&quot;0.2&quot;: &quot;purple&quot;, &quot;0.5&quot;: &quot;orange&quot;, &quot;0.8&quot;: &quot;yellow&quot;}, &quot;maxZoom&quot;: 18, &quot;minOpacity&quot;: 0.5, &quot;radius&quot;: 15}
            );
        
    
            heat_map_27afebb4e9f0ef44924efbcf2bf11349.addTo(map_9451e0ce0c19de58662ee07df16bd813);
        
    
            tile_layer_1acc5cd150b00aee3f85fbd340156ec4.addTo(map_9451e0ce0c19de58662ee07df16bd813);
        
    
            heat_map_da63a55fa0f93ef44243c07e6b9bccc6.addTo(map_9451e0ce0c19de58662ee07df16bd813);
        
    
            heat_map_27afebb4e9f0ef44924efbcf2bf11349.addTo(map_9451e0ce0c19de58662ee07df16bd813);
        
</script>
</html>" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe></div></div>
</div>
</div></div>
<div id="d7ca655c" class="cell markdown">
<section id="hypothesis" class="level2">
<h2 class="anchored" data-anchor-id="hypothesis">Hypothesis</h2>
<section id="hypothesis-1" class="level3">
<h3 class="anchored" data-anchor-id="hypothesis-1">Hypothesis:</h3>
<p><span class="math inline">\(\mathcal{H}_0\)</span>: Sweetgreen and Chipotle locations are randomly distributed with no spatial correlation.</p>
<p><span class="math inline">\(\mathcal{H}_A\)</span>: SSweetgreen and Chipotle locations are spatially correlated (either clustering together (proximity) or repelling each other (competition)).</p>
</section>
<section id="monte-carlo-simulation" class="level3">
<h3 class="anchored" data-anchor-id="monte-carlo-simulation">Monte Carlo Simulation</h3>
<p>To test our hypothesis, we conduct a Monte Carlo simulation. We randomly distribute Sweetgreen and Chipotle locations on a map and calculate the distance between each pair of locations. We then compare the observed distance between Sweetgreen and Chipotle locations to the distribution of distances under the null hypothesis.</p>
<p>Steps:</p>
<ol type="1">
<li>Calculate observed distances between Sweetgreen and Chipotle using the minimum distance to a Chipotle for each Sweetgreen location.</li>
<li>Randomize Chipotle locations within the bounding box (longitude-latitude range of original Chipotle locations).</li>
<li>Repeat this process for the specified number of simulations, storing the average distance for each simulation.</li>
</ol>
</section>
</section>
</div>
<div class="cell-container code-fold"><div class="cell-decorator"><pre>In [6]:</pre></div><div id="d12d7906" class="cell" data-execution_count="6">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.spatial <span class="im">import</span> distance</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Monte Carlo Simulation to compare average distances between Sweetgreen and Chipotle</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> monte_carlo_simulation(sweetgreen_coords, chipotle_coords, num_simulations<span class="op">=</span><span class="dv">100000</span>):</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co">    Perform a Monte Carlo simulation to test the hypothesis:</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co">    Are the observed distances between Sweetgreen and Chipotle locations</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="co">    significantly different from random placement?</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="co">        sweetgreen_coords: Array of Sweetgreen coordinates.</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="co">        chipotle_coords: Array of Chipotle coordinates.</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="co">        num_simulations: Number of Monte Carlo simulations.</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a><span class="co">        Observed average distance, distribution of simulated distances.</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>    observed_distances <span class="op">=</span> distance.cdist(sweetgreen_coords, chipotle_coords).<span class="bu">min</span>(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>    observed_avg_distance <span class="op">=</span> observed_distances.mean()</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Simulated distances</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>    simulated_avg_distances <span class="op">=</span> []</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(num_simulations):</span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Randomize Chipotle locations within the bounding box</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>        randomized_chipotle_coords <span class="op">=</span> np.random.uniform(</span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>            low<span class="op">=</span>[chipotle_coords[:, <span class="dv">0</span>].<span class="bu">min</span>(), chipotle_coords[:, <span class="dv">1</span>].<span class="bu">min</span>()],</span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>            high<span class="op">=</span>[chipotle_coords[:, <span class="dv">0</span>].<span class="bu">max</span>(), chipotle_coords[:, <span class="dv">1</span>].<span class="bu">max</span>()],</span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>            size<span class="op">=</span>chipotle_coords.shape</span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>        simulated_distances <span class="op">=</span> distance.cdist(sweetgreen_coords, randomized_chipotle_coords).<span class="bu">min</span>(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>        simulated_avg_distances.append(simulated_distances.mean())</span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> observed_avg_distance, simulated_avg_distances</span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare data</span></span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>sweetgreen_coords <span class="op">=</span> np.array(sweetgreen_df[[<span class="st">'lng'</span>, <span class="st">'lat'</span>]])</span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>chipotle_coords <span class="op">=</span> np.array(chipotle_df[[<span class="st">'lng'</span>, <span class="st">'lat'</span>]])</span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Run Monte Carlo Simulation</span></span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a>observed_avg_distance, simulated_avg_distances <span class="op">=</span> monte_carlo_simulation(</span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a>    sweetgreen_coords, chipotle_coords, num_simulations<span class="op">=</span><span class="dv">1000</span></span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-47"><a href="#cb9-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the distribution of simulated distances and observed distance</span></span>
<span id="cb9-48"><a href="#cb9-48" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb9-49"><a href="#cb9-49" aria-hidden="true" tabindex="-1"></a>plt.hist(simulated_avg_distances, bins<span class="op">=</span><span class="dv">30</span>, color<span class="op">=</span><span class="st">'blue'</span>, alpha<span class="op">=</span><span class="fl">0.7</span>, label<span class="op">=</span><span class="st">"Simulated Avg Distances"</span>)</span>
<span id="cb9-50"><a href="#cb9-50" aria-hidden="true" tabindex="-1"></a>plt.axvline(observed_avg_distance, color<span class="op">=</span><span class="st">'red'</span>, linestyle<span class="op">=</span><span class="st">'--'</span>, linewidth<span class="op">=</span><span class="dv">2</span>, label<span class="op">=</span><span class="st">"Observed Avg Distance"</span>)</span>
<span id="cb9-51"><a href="#cb9-51" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Monte Carlo Simulation: Sweetgreen-Chipotle Proximity"</span>)</span>
<span id="cb9-52"><a href="#cb9-52" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Average Distance"</span>)</span>
<span id="cb9-53"><a href="#cb9-53" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Frequency"</span>)</span>
<span id="cb9-54"><a href="#cb9-54" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb9-55"><a href="#cb9-55" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb9-56"><a href="#cb9-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-57"><a href="#cb9-57" aria-hidden="true" tabindex="-1"></a><span class="co"># Print summary</span></span>
<span id="cb9-58"><a href="#cb9-58" aria-hidden="true" tabindex="-1"></a>observed_avg_distance, np.mean(simulated_avg_distances), np.std(simulated_avg_distances)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div class="">
<figure class="figure">
<p class=""><a href="index_files/figure-html/cell-7-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="index_files/figure-html/cell-7-output-1.png" width="816" height="523" class="figure-img"></a></p>
</figure>
</div>
</div>
</div></div>
<div id="866122df" class="cell markdown">
<section id="kde-plot-of-sweetgreen-and-chipotle-locations" class="level3">
<h3 class="anchored" data-anchor-id="kde-plot-of-sweetgreen-and-chipotle-locations">KDE Plot of Sweetgreen and Chipotle Locations</h3>
</section>
</div>
<div class="cell-container code-fold"><div class="cell-decorator"><pre>In [7]:</pre></div><div id="9baad903" class="cell" data-execution_count="7">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot distances between Sweetgreen and Chipotle</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>sns.kdeplot(simulated_avg_distances, color<span class="op">=</span><span class="st">"blue"</span>, label<span class="op">=</span><span class="st">"Simulated Avg Distances"</span>)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>plt.axvline(observed_avg_distance, color<span class="op">=</span><span class="st">"red"</span>, linestyle<span class="op">=</span><span class="st">"--"</span>, linewidth<span class="op">=</span><span class="dv">2</span>, label<span class="op">=</span><span class="st">"Observed Avg Distance"</span>)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Monte Carlo Simulation: Sweetgreen-Chipotle Proximity"</span>)</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Average Distance"</span>)</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Density"</span>)</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Interpretation:</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> observed_avg_distance <span class="op">&lt;</span> np.mean(simulated_avg_distances):</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"The observed average distance is shorter than simulated distances. This suggests they are spatial corralated."</span>)</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"The observed average distance is not significantly shorter. This suggests they are not spatial corralated."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>/Users/verkyyi/anaconda3/envs/dsan5400/lib/python3.11/site-packages/seaborn/_oldcore.py:1119: FutureWarning: use_inf_as_na option is deprecated and will be removed in a future version. Convert inf values to NaN before operating instead.
  with pd.option_context('mode.use_inf_as_na', True):</code></pre>
</div>
<div class="cell-output cell-output-display">
<div class="">
<figure class="figure">
<p class=""><a href="index_files/figure-html/cell-8-output-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="index_files/figure-html/cell-8-output-2.png" width="816" height="523" class="figure-img"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>The observed average distance is shorter than simulated distances. This suggests they are spatial corralated.</code></pre>
</div>
</div></div>
<div id="bf1c4206" class="cell markdown">
<section id="one-sample-t-test" class="level4">
<h4 class="anchored" data-anchor-id="one-sample-t-test">One-Sample T-Test</h4>
<p>Hypothesis:</p>
<p><span class="math inline">\(\mathcal{H}_0\)</span>: Sweetgreen and Chipotle locations are randomly distributed with no spatial correlation.</p>
<p><span class="math inline">\(\mathcal{H}_A\)</span>: Sweetgreen and Chipotle locations are spatially correlated (either clustering together (proximity) or repelling each other (competition).</p>
</section>
</div>
<div class="cell-container code-fold"><div class="cell-decorator"><pre>In [8]:</pre></div><div id="8ff20605" class="cell" data-execution_count="8">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.stats <span class="im">import</span> ttest_1samp</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co"># # Example Data</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co"># print(simulated_avg_distances)</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co"># print(observed_avg_distance)</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform a one-sample t-test</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>t_stat, p_value <span class="op">=</span> ttest_1samp(simulated_avg_distances, observed_avg_distance)</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Print results</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"T-statistic: </span><span class="sc">{</span>t_stat<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"P-value: </span><span class="sc">{</span>p_value<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Interpretation</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>alpha <span class="op">=</span> <span class="fl">0.05</span>  <span class="co"># Significance level</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> p_value <span class="op">&lt;</span> alpha:</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"The observed average distance is significantly different from the simulated distances (reject H₀)."</span>)</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"The observed average distance is not significantly different from the simulated distances (fail to reject H₀)."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>T-statistic: 92.10286036130957
P-value: 0.0
The observed average distance is significantly different from the simulated distances (reject H₀).</code></pre>
</div>
</div></div>
<div id="bfce49b9" class="cell markdown">
<section id="discussion" class="level2">
<h2 class="anchored" data-anchor-id="discussion">Discussion</h2>
<p>If the locations of Sweetgreen and Chipotle are spatially correlated, Are Sweetgreen and Chipotle locations clustered together (like in the Hotelling model)? Or are they evenly spaced across a city or region (like in the Salop model)?</p>
<section id="hotelling-model-linear-city-model" class="level3">
<h3 class="anchored" data-anchor-id="hotelling-model-linear-city-model">1. Hotelling Model (Linear City Model)</h3>
<p>Concept: Firms compete for customers along a single line (like a street, highway, or product spectrum). Customers are evenly distributed along the line and face “transportation costs” (effort, time, or money) to reach the firms.</p>
<p>Firms tend to move closer together toward the center of the line (“minimum differentiation”) to capture the largest customer base. This “clustering” happens because if one firm moves away, it loses customers to its competitor. Application to Sweetgreen vs.&nbsp;Chipotle: We can use the Hotelling model to analyze whether these two chains are colocated (clustered) to maximize competition or spread out to dominate separate areas. The average distances between Sweetgreen and Chipotle locations serve as a proxy for their competitive strategy.</p>
</section>
<section id="salop-model-circular-city-model" class="level3">
<h3 class="anchored" data-anchor-id="salop-model-circular-city-model">2. Salop Model (Circular City Model)</h3>
<p>Concept: Extends the Hotelling model to a circular city (like a city with multiple neighborhoodsor a ring road). The circular model is useful when more than two competitors exist, and it prevents boundary effects (e.g., firms clustering at the ends of a line).</p>
<p>Goal: Firms aim to maximize market share by minimizing transportation costs for customers, similar to the Hotelling model, but in a circular (2D) representation.</p>
<p>Customers are evenly distributed around a circle. Multiple firms (e.g., Sweetgreen, Chipotle, Panera Bread) compete. Customers pick the closest firm, incurring the lowest transportation cost. Implications: Firms tend to space themselves equally around the circle to avoid direct competition and capture their segment of the market. This leads to “maximum differentiation,” where firms spread out rather than cluster together.</p>
<p>Salop’s Model assumes businesses (like Sweetgreen and Chipotle) are evenly distributed on a circular market, leading to relatively equidistant placements. A low standard deviation in the closest distances ( min_distances min_distances) would be consistent with this model, as it reflects uniform proximity to competitors.</p>
</section>
</section>
</div>
<div class="cell-container code-fold"><div class="cell-decorator"><pre>In [9]:</pre></div><div id="7d7a3ab5" class="cell" data-execution_count="9">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute pairwise distances between Sweetgreen and Chipotle</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>pairwise_distances <span class="op">=</span> distance.cdist(sweetgreen_coords, chipotle_coords)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Analyze distance distribution</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>min_distances <span class="op">=</span> pairwise_distances.<span class="bu">min</span>(axis<span class="op">=</span><span class="dv">1</span>)  <span class="co"># Closest Chipotle for each Sweetgreen</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>std_dev_distances <span class="op">=</span> min_distances.std()         <span class="co"># Spread of distances</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Standard Deviation of Min Distances: </span><span class="sc">{</span>std_dev_distances<span class="sc">:.4f}</span><span class="ss">"</span>)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Interpretation:</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> std_dev_distances <span class="op">&lt;</span> <span class="fl">0.1</span> <span class="op">*</span> min_distances.mean():  <span class="co"># Threshold relative to mean distance</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Low standard deviation in distances suggests equidistant spread, consistent with Salop's Model."</span>)</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"High standard deviation in distances suggests clustering or irregular spacing, not consistent with Salop's Model."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Standard Deviation of Min Distances: 0.0177
High standard deviation in distances suggests clustering or irregular spacing, not consistent with Salop's Model.</code></pre>
</div>
</div></div>
<div id="49c526fe" class="cell markdown">
<section id="hotelling-model-analyze-minimum-distances" class="level3">
<h3 class="anchored" data-anchor-id="hotelling-model-analyze-minimum-distances">3. Hotelling Model: Analyze Minimum Distances</h3>
<p>We compute the average minimum distance from each Sweetgreen to the nearest Chipotle to assess clustering.</p>
</section>
</div>
<div class="cell-container code-fold"><div class="cell-decorator"><pre>In [10]:</pre></div><div id="9b8d6fe3" class="cell" data-execution_count="10">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.spatial <span class="im">import</span> distance_matrix</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate pairwise distances between Sweetgreen and Chipotle locations</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>distances <span class="op">=</span> distance_matrix(</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    sweetgreen_gdf.geometry.<span class="bu">apply</span>(<span class="kw">lambda</span> geom: (geom.x, geom.y)).tolist(),</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    chipotle_gdf.geometry.<span class="bu">apply</span>(<span class="kw">lambda</span> geom: (geom.x, geom.y)).tolist()</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Find the minimum distance from each Sweetgreen to a Chipotle</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>min_distances <span class="op">=</span> distances.<span class="bu">min</span>(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>avg_distance <span class="op">=</span> min_distances.mean()</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Average minimum distance between Sweetgreen and Chipotle: </span><span class="sc">{</span>avg_distance<span class="sc">:.2f}</span><span class="ss"> miles"</span>)</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot histogram of distances</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>plt.hist(min_distances, bins<span class="op">=</span><span class="dv">10</span>, color<span class="op">=</span><span class="st">'green'</span>, alpha<span class="op">=</span><span class="fl">0.7</span>)</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Minimum Distances from Sweetgreen to Chipotle"</span>)</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Distance (miles)"</span>)</span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Frequency"</span>)</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Average minimum distance between Sweetgreen and Chipotle: 0.02 miles</code></pre>
</div>
<div class="cell-output cell-output-display">
<div class="">
<figure class="figure">
<p class=""><a href="index_files/figure-html/cell-11-output-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="index_files/figure-html/cell-11-output-2.png" width="585" height="449" class="figure-img"></a></p>
</figure>
</div>
</div>
</div></div>
<div id="7dcd04bd" class="cell markdown">
<p>Use minimum distances between Sweetgreen and Chipotle to assess clustering or separation.</p>
<p>A smaller average distance indicates clustering (competitive strategy).</p>
<section id="salop-model-voronoi-diagram-for-market-coverage" class="level3">
<h3 class="anchored" data-anchor-id="salop-model-voronoi-diagram-for-market-coverage">4. Salop Model: Voronoi Diagram for Market Coverage</h3>
<p>We compute the Voronoi diagram to visualize how Sweetgreen and Chipotle locations partition space and analyze their spatial distribution.</p>
</section>
</div>
<div class="cell-container code-fold"><div class="cell-decorator"><pre>In [11]:</pre></div><div id="2232f859" class="cell" data-execution_count="11">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.spatial <span class="im">import</span> Voronoi, voronoi_plot_2d</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine Sweetgreen and Chipotle coordinates</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>combined_coords <span class="op">=</span> np.vstack((</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    sweetgreen_gdf.geometry.<span class="bu">apply</span>(<span class="kw">lambda</span> geom: (geom.x, geom.y)).tolist(),</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    chipotle_gdf.geometry.<span class="bu">apply</span>(<span class="kw">lambda</span> geom: (geom.x, geom.y)).tolist()</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute Voronoi diagram</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>vor <span class="op">=</span> Voronoi(combined_coords)</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot Voronoi diagram</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">8</span>))</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>voronoi_plot_2d(vor, ax<span class="op">=</span>ax, show_vertices<span class="op">=</span><span class="va">False</span>, line_colors<span class="op">=</span><span class="st">'gray'</span>)</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>sweetgreen_gdf.plot(ax<span class="op">=</span>ax, color<span class="op">=</span><span class="st">'green'</span>, label<span class="op">=</span><span class="st">'Sweetgreen'</span>, markersize<span class="op">=</span><span class="dv">50</span>)</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>chipotle_gdf.plot(ax<span class="op">=</span>ax, color<span class="op">=</span><span class="st">'orange'</span>, label<span class="op">=</span><span class="st">'Chipotle'</span>, markersize<span class="op">=</span><span class="dv">50</span>)</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Voronoi Diagram for Sweetgreen and Chipotle Locations"</span>)</span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div class="">
<figure class="figure">
<p class=""><a href="index_files/figure-html/cell-12-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="index_files/figure-html/cell-12-output-1.png" width="467" height="653" class="figure-img"></a></p>
</figure>
</div>
</div>
</div></div>
<div id="f7454e0b" class="cell markdown">
<p>Use Voronoi diagrams to assess market partitioning and spatial competition. Equal partitioning suggests maximum differentiation, while overlap indicates clustering.</p>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>Sweetgreen and Chipotle are not randomly distributed. Their locations exhibit spatial correlation, indicating strategic positioning. Policymakers and businesses should consider these patterns when shaping food environments, as they may influence consumer choices and community health outcomes.</p>
</section>
</div>
     </main>
<!-- /main column -->  <script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>  </div> <!-- /content -->  <script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","selector":".lightbox","loop":false,"descPosition":"bottom","openEffect":"zoom"});
window.onload = () => {
  lightboxQuarto.on('slide_before_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    const href = trigger.getAttribute('href');
    if (href !== null) {
      const imgEl = window.document.querySelector(`a[href="${href}"] img`);
      if (imgEl !== null) {
        const srcAttr = imgEl.getAttribute("src");
        if (srcAttr && srcAttr.startsWith("data:")) {
          slideConfig.href = srcAttr;
        }
      }
    } 
  });

  lightboxQuarto.on('slide_after_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    if (window.Quarto?.typesetMath) {
      window.Quarto.typesetMath(slideNode);
    }
  });

};
          </script> 
  
</body></html>